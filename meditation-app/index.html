<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#0b0f14" />
    <title>–ú–µ–¥–∏—Ç–∞—Ü–∏—è</title>
    <link rel="manifest" href="./manifest.webmanifest" />
    <link rel="stylesheet" href="./styles.css?v=7" />
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='30' fill='%2323c1a1'/%3E%3Ctext x='32' y='41' text-anchor='middle' font-size='36' fill='white'%3E%F0%9F%8C%BF%3C/text%3E%3C/svg%3E" />
  </head>
  <body>
    <noscript>–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω—É–∂–µ–Ω JavaScript.</noscript>
    <header class="app-header">
      <div class="brand">
        <div class="logo" aria-hidden="true">üåø</div>
        <div class="titles">
          <h1>–ú–µ–¥–∏—Ç–∞—Ü–∏—è</h1>
          <p class="subtitle">—Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ —Ñ–æ–∫—É—Å</p>
        </div>
      </div>
      <button id="themeToggle" class="icon-button" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É" title="–¢–µ–º–∞">üåô</button>
    </header>

    <nav class="tabs" role="tablist" aria-label="–†–∞–∑–¥–µ–ª—ã">
      <button class="tab active" data-target="timer" role="tab" aria-selected="true">–¢–∞–π–º–µ—Ä</button>
      <button class="tab" data-target="breath" role="tab">–î—ã—Ö–∞–Ω–∏–µ</button>
      <button class="tab" data-target="meditations" role="tab">–ú–µ–¥–∏—Ç–∞—Ü–∏–∏</button>
      <button class="tab" data-target="sounds" role="tab">–ó–≤—É–∫–∏</button>
      <button class="tab" data-target="stats" role="tab">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
      <button class="tab" data-target="wellbeing" role="tab">–°–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ</button>
      <button class="tab" data-target="settings" role="tab">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </nav>

    <main>
      <section id="timer" class="view active" aria-labelledby="–¢–∞–π–º–µ—Ä">
        <div class="card">
          <h2>–¢–∞–π–º–µ—Ä –º–µ–¥–∏—Ç–∞—Ü–∏–∏</h2>
          <div class="timer-controls">
            <div class="presets">
              <button class="chip preset" data-min="5">5 –º–∏–Ω</button>
              <button class="chip preset" data-min="10">10 –º–∏–Ω</button>
              <button class="chip preset" data-min="15">15 –º–∏–Ω</button>
              <button class="chip preset" data-min="30">30 –º–∏–Ω</button>
            </div>
            <label class="inline-input">
              <span>–°–≤–æ—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</span>
              <input id="customMinutes" type="number" min="1" max="120" step="1" value="10" />
              <span>–º–∏–Ω</span>
            </label>
          </div>

          <div class="timer-visual">
            <svg viewBox="0 0 120 120" class="progress-ring" aria-hidden="true">
              <circle class="ring-bg" cx="60" cy="60" r="54" />
              <circle class="ring" cx="60" cy="60" r="54" />
            </svg>
            <div class="time-readout">
              <div id="timeDisplay" class="time">10:00</div>
              <div id="timerStatus" class="status">–ì–æ—Ç–æ–≤–æ</div>
            </div>
          </div>

          <div class="buttons">
            <button id="startTimer" class="btn primary">–°—Ç–∞—Ä—Ç</button>
            <button id="pauseTimer" class="btn" disabled>–ü–∞—É–∑–∞</button>
            <button id="resetTimer" class="btn" disabled>–°–±—Ä–æ—Å</button>
          </div>
        </div>
      </section>

      <section id="breath" class="view" aria-labelledby="–î—ã—Ö–∞–Ω–∏–µ">
        <div class="card">
          <h2>–î—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏</h2>
          <div class="grid two">
            <label>
              <span>–¢–µ—Ö–Ω–∏–∫–∞</span>
              <select id="technique">
                <option value="relax_breath">–î—ã—Ö–∞–Ω–∏–µ –¥–ª—è —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏—è</option>
                <option value="mindful">–û—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ</option>
                <option value="relax_triangle">–†–µ–ª–∞–∫—Å–∏—Ä—É—é—â–∏–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫</option>
                <option value="activate_triangle">–ê–∫—Ç–∏–≤–∏—Ä—É—é—â–∏–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫</option>
                <option value="calming_wave">–£—Å–ø–æ–∫–∞–∏–≤–∞—é—â–∞—è –≤–æ–ª–Ω–∞</option>
              </select>
            </label>
            <label>
              <span>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏ (–º–∏–Ω)</span>
              <input id="breathMinutes" type="number" min="1" max="60" step="1" value="5" />
            </label>
          </div>

          <div class="breath-visual" aria-live="polite">
            <div class="breath-circle" id="breathCircle"></div>
            <div class="breath-cue" id="breathCue">–ì–æ—Ç–æ–≤–æ</div>
          </div>

          <div class="buttons">
            <button id="startBreath" class="btn primary">–°—Ç–∞—Ä—Ç</button>
            <button id="pauseBreath" class="btn" disabled>–ü–∞—É–∑–∞</button>
            <button id="resetBreath" class="btn" disabled>–°–±—Ä–æ—Å</button>
          </div>
        </div>
      </section>

      <section id="meditations" class="view" aria-labelledby="–ú–µ–¥–∏—Ç–∞—Ü–∏–∏">
        <div class="card">
          <h2>–ú–µ–¥–∏—Ç–∞—Ü–∏–∏</h2>
          <div class="meditations-grid">
            <button class="meditation-tile" data-key="career">–ö–∞—Ä—å–µ—Ä–∞</button>
            <button class="meditation-tile" data-key="money">–î–µ–Ω—å–≥–∏</button>
            <button class="meditation-tile" data-key="relax">–†–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ</button>
            <button class="meditation-tile" data-key="love">–õ—é–±–æ–≤—å</button>
            <button class="meditation-tile" data-key="energy">–ó–∞—Ä—è–¥ —ç–Ω–µ—Ä–≥–∏–∏</button>
            <button class="meditation-tile" data-key="sex">–°–µ–∫—Å</button>
          </div>
          <div class="divider"></div>
          <div id="meditationTracks" class="meditation-tracks hidden">
            <h3 id="medCategoryTitle">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–¥–∏—Ç–∞—Ü–∏—é</h3>
                         <div id="tracksList" class="tracks-list"></div>
             <div id="tracksHint" class="muted small">–ù–∞–∂–º–∏—Ç–µ ‚ñ∂ —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–ª–µ–µ—Ä –∏ –Ω–∞—á–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ.</div>
          </div>
        </div>
      </section>

      <section id="sounds" class="view" aria-labelledby="–ó–≤—É–∫–∏">
        <div class="card">
          <h2>–ê–º–±–∏–µ–Ω—Ç‚Äë–∑–≤—É–∫–∏</h2>
          <p class="muted">–ó–≤—É–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ñ–ª–∞–π–Ω. –ì—Ä–æ–º–∫–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.</p>

          <div class="sound-list">
            <div class="sound-row">
              <div class="sound-meta">
                <span class="sound-name">–î–æ–∂–¥—å</span>
                <label class="switch">
                  <input type="checkbox" id="rainToggle" />
                  <span></span>
                </label>
              </div>
              <input id="rainVolume" type="range" min="0" max="1" step="0.01" value="0.4" />
            </div>

            <div class="sound-row">
              <div class="sound-meta">
                <span class="sound-name">–õ–µ—Å</span>
                <label class="switch">
                  <input type="checkbox" id="forestToggle" />
                  <span></span>
                </label>
              </div>
              <input id="forestVolume" type="range" min="0" max="1" step="0.01" value="0.3" />
            </div>

            <div class="sound-row">
              <div class="sound-meta">
                <span class="sound-name">–ü–æ—Ç–æ–∫</span>
                <label class="switch">
                  <input type="checkbox" id="streamToggle" />
                  <span></span>
                </label>
              </div>
              <input id="streamVolume" type="range" min="0" max="1" step="0.01" value="0.35" />
            </div>

            <div class="sound-row">
              <div class="sound-meta">
                <span class="sound-name">–û–º</span>
                <label class="switch">
                  <input type="checkbox" id="omToggle" />
                  <span></span>
                </label>
              </div>
              <input id="omVolume" type="range" min="0" max="1" step="0.01" value="0.2" />
            </div>
          </div>

          <label class="inline-input">
            <span>–û–±—â–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å</span>
            <input id="masterVolume" type="range" min="0" max="1" step="0.01" value="1" />
          </label>
        </div>
      </section>

      <section id="stats" class="view" aria-labelledby="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞">
        <div class="card">
          <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
          <div class="stats">
            <div class="stat">
              <div class="stat-value" id="statSessions">0</div>
              <div class="stat-label">–°–µ—Å—Å–∏–π</div>
            </div>
            <div class="stat">
              <div class="stat-value" id="statMinutes">0</div>
              <div class="stat-label">–ú–∏–Ω—É—Ç –≤—Å–µ–≥–æ</div>
            </div>
            <div class="stat">
              <div class="stat-value" id="statStreak">0</div>
              <div class="stat-label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
            </div>
          </div>
        </div>
      </section>

      <section id="wellbeing" class="view" aria-labelledby="–°–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ">
        <div class="card">
          <h2>–°–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ</h2>
          <div class="wb-form grid two">
            <label>
              <span>–î–∞—Ç–∞</span>
              <input id="wbDate" type="date" />
            </label>
            <label>
              <span>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</span>
              <select id="wbMood">
                <option value="very_bad">–û—á–µ–Ω—å –ø–ª–æ—Ö–æ–µ</option>
                <option value="bad">–ü–ª–æ—Ö–æ–µ</option>
                <option value="neutral" selected>–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ</option>
                <option value="good">–•–æ—Ä–æ—à–µ–µ</option>
                <option value="great">–û—Ç–ª–∏—á–Ω–æ–µ</option>
              </select>
            </label>
          </div>
          <div class="wb-form grid two">
            <label>
              <span>–°—Ç—Ä–µ—Å—Å: <b id="wbStressVal">5</b>/10</span>
              <input id="wbStress" type="range" min="0" max="10" step="1" value="5" />
            </label>
            <label>
              <span>–≠–Ω–µ—Ä–≥–∏—è: <b id="wbEnergyVal">5</b>/10</span>
              <input id="wbEnergy" type="range" min="0" max="10" step="1" value="5" />
            </label>
          </div>
          <label class="wb-notes">
            <span>–ó–∞–º–µ—Ç–∫–∏</span>
            <textarea id="wbNotes" rows="3" placeholder="–ö–∞–∫ –≤—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—Ç–µ? –ß—Ç–æ –ø–æ–≤–ª–∏—è–ª–æ –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ?"></textarea>
          </label>
          <div class="buttons">
            <button id="wbSave" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>
        </div>

        <div class="card">
          <h2>–ò—Å—Ç–æ—Ä–∏—è</h2>
          <div id="wbList" class="wb-list"></div>
        </div>
      </section>

      <section id="settings" class="view" aria-labelledby="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
        <div class="card">
          <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
          <div class="grid two">
            <div>
              <div class="muted">–¢–µ–º–∞</div>
              <button id="themeToggle2" class="btn">–°–≤–µ—Ç–ª–∞—è / –¢—ë–º–Ω–∞—è</button>
            </div>
            <div>
              <div class="muted">–£—Å—Ç–∞–Ω–æ–≤–∫–∞</div>
              <button id="installBtn" class="btn" disabled>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
            </div>
          </div>
          <div class="divider"></div>
          <button id="resetStats" class="btn danger">–°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <span>–†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω ‚Ä¢ PWA</span>
    </footer>

    <script src="./app.js?v=7" defer></script>
  </body>
</html>